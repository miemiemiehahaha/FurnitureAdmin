(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2604fa47"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"14c3":function(t,e,o){var a=o("c6b6"),n=o("9263");t.exports=function(t,e){var o=t.exec;if("function"===typeof o){var i=o.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(t,e)}},"1dde":function(t,e,o){var a=o("d039"),n=o("b622"),i=o("2d00"),r=n("species");t.exports=function(t){return i>=51||!a((function(){var e=[],o=e.constructor={};return o[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"2fc9":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"goodsManage"},[o("div",{staticClass:"searchWrapper"},[o("el-input",{staticClass:"order_search",attrs:{size:"mini",placeholder:"输入关键字搜索：enter"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.fetchgoodsList(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("el-button",{attrs:{size:"mini",type:"success"},on:{click:t.reset}},[t._v("重置")]),o("el-button",{staticClass:"addNew1",attrs:{icon:"el-icon-plus"},on:{click:t.addNew}},[t._v("新增产品")])],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsList,"highlight-current-row":!0}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"商品ID："}},[o("span",[t._v(t._s(e.row.id))])]),o("el-form-item",{attrs:{label:"商品名称："}},[o("span",[t._v(t._s(e.row.goodsName))])]),o("el-form-item",{attrs:{label:"商品单价："}},[o("span",[t._v("￥"+t._s(e.row.inPrice))])]),o("el-form-item",{attrs:{label:"商品图片："}},[o("img",{attrs:{src:e.row.picInfo,alt:""}})]),o("el-form-item",{attrs:{label:"商品库存："}},[o("span",[t._v(t._s(e.row.quantity))])]),o("el-form-item",{attrs:{label:"商品规格："}},[o("span",[t._v(t._s(e.row.size))])]),o("el-form-item",{attrs:{label:"商品性质："}},[o("span",[t._v(t._s(e.row.color))])]),o("el-form-item",{attrs:{label:"商品描述："}},[o("span",[t._v(t._s(e.row.detail))])])],1)]}}])}),o("el-table-column",{attrs:{label:"ID",prop:"id",width:"60px"}}),o("el-table-column",{attrs:{label:"品牌名",prop:"goodsName"}}),o("el-table-column",{attrs:{label:"性质",prop:"color"}}),o("el-table-column",{attrs:{label:"价格(￥)",prop:"inPrice",width:"100px"}}),o("el-table-column",{attrs:{label:"库存",prop:"quantity",width:"100px"}}),o("el-table-column",{attrs:{align:"right",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){return t.handleEdit(e.row)}}},[t._v("编辑")]),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.handleDelete(e.row.id,e.row.goodsName)}}},[t._v("删除")])]}}])})],1),o("div",{staticClass:"myPagination"},[o("el-pagination",{attrs:{"current-page":t.page.pageNum,"page-size":t.page.pageSize,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.page,"pageNum",e)},"update:current-page":function(e){return t.$set(t.page,"pageNum",e)}}})],1),o("el-drawer",{attrs:{"with-header":!1,visible:t.drawerShow,direction:"rtl"},on:{"update:visible":function(e){t.drawerShow=e}}},[o("div",{staticClass:"form-body"},[o("span",{staticClass:"title"},[t._v(t._s(t.isAdd?"添加产品":"编辑产品"))]),o("el-form",{staticClass:"formDetail",attrs:{model:t.goodsInfoDetail}},[t.isAdd?t._e():o("el-form-item",{attrs:{label:"ID:","label-width":"80px"}},[o("el-input",{attrs:{disabled:!t.isAdd,autocomplete:"off"},model:{value:t.goodsInfoDetail.id,callback:function(e){t.$set(t.goodsInfoDetail,"id",e)},expression:"goodsInfoDetail.id"}})],1),o("el-form-item",{attrs:{label:"品牌名:","label-width":"80px"}},[o("el-input",{attrs:{disabled:!t.isAdd,autocomplete:"off"},model:{value:t.goodsInfoDetail.goodsName,callback:function(e){t.$set(t.goodsInfoDetail,"goodsName",e)},expression:"goodsInfoDetail.goodsName"}})],1),t.isAdd?o("el-form-item",{attrs:{label:"性质:","label-width":"80px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.goodsInfoDetail.color,callback:function(e){t.$set(t.goodsInfoDetail,"color",e)},expression:"goodsInfoDetail.color"}})],1):t._e(),o("el-form-item",{attrs:{label:"类别:","label-width":"80px"}},[o("el-select",{attrs:{placeholder:"请选择类别"},model:{value:t.goodsInfoDetail.categoryID,callback:function(e){t.$set(t.goodsInfoDetail,"categoryID",e)},expression:"goodsInfoDetail.categoryID"}},t._l(t.categoryList,(function(t){return o("el-option",{key:t.id,attrs:{label:t.categoryName,value:t.id}})})),1)],1),o("el-form-item",{attrs:{label:"库存:","label-width":"80px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.goodsInfoDetail.quantity,callback:function(e){t.$set(t.goodsInfoDetail,"quantity",e)},expression:"goodsInfoDetail.quantity"}})],1),o("el-form-item",{attrs:{label:"尺寸:","label-width":"80px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.goodsInfoDetail.size,callback:function(e){t.$set(t.goodsInfoDetail,"size",e)},expression:"goodsInfoDetail.size"}})],1),o("el-form-item",{attrs:{label:"价格:","label-width":"80px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.goodsInfoDetail.inPrice,callback:function(e){t.$set(t.goodsInfoDetail,"inPrice",e)},expression:"goodsInfoDetail.inPrice"}})],1),o("el-form-item",{attrs:{label:"描述:","label-width":"80px"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.goodsInfoDetail.detail,callback:function(e){t.$set(t.goodsInfoDetail,"detail",e)},expression:"goodsInfoDetail.detail"}})],1),o("el-form-item",{attrs:{label:"图片:","label-width":"80px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.goodsInfoDetail.picInfo,callback:function(e){t.$set(t.goodsInfoDetail,"picInfo",e)},expression:"goodsInfoDetail.picInfo"}})],1),o("el-form-item",{attrs:{label:"备注:","label-width":"80px"}},[o("el-input",{attrs:{type:"textarea",autocomplete:"off"},model:{value:t.goodsInfoDetail.remark,callback:function(e){t.$set(t.goodsInfoDetail,"remark",e)},expression:"goodsInfoDetail.remark"}})],1)],1),o("div",{staticClass:"formBtn"},[o("el-button",{on:{click:function(e){t.drawerShow=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.addOrUpdate}},[t._v("提交")])],1)],1)])],1)},n=[],i=(o("d81d"),o("ac1f"),o("841c"),{data:function(){return{search:"",total:0,page:{pageNum:1,pageSize:6},goodsList:[],drawerShow:!1,goodsInfoDetail:{},isAdd:null,categoryList:[]}},created:function(){this.fetchgoodsList(),this.fetchCategoryList()},methods:{handleDelete:function(t,e){var o=this;this.$confirm("此操作将会永久删除产品(".concat(e,"), 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((function(){o.deleteGoods(t)})).catch((function(){o.$message({type:"info",message:"已取消删除"})}))},handleEdit:function(t){this.isAdd=!1,this.goodsInfoDetail=t,this.drawerShow=!0},reset:function(){this.search="",this.fetchgoodsList()},handleCurrentChange:function(){this.fetchgoodsList()},addNew:function(){this.goodsInfoDetail={goodsName:"",color:"",size:"",quantity:"",inPrice:"",detail:"",picInfo:""},this.isAdd=!0,this.drawerShow=!0},addOrUpdate:function(){var t=this,e=this.isAdd?"/FurnitureAdm/AddGoods":"/FurnitureAdm/updateGoods";this.$axios({url:e,method:"POST",data:this.$qs.stringify({goodsid:this.goodsInfoDetail.id||"",goodsName:this.goodsInfoDetail.goodsName,color:this.goodsInfoDetail.color,goodsize:this.goodsInfoDetail.size,quantity:this.goodsInfoDetail.quantity,categoryID:this.goodsInfoDetail.categoryID,inPrice:this.goodsInfoDetail.inPrice,detail:this.goodsInfoDetail.detail,picInfo:this.goodsInfoDetail.picInfo,remark:this.goodsInfoDetail.remark})}).then((function(e){var o=e.data;if(200===o.code)t.fetchgoodsList(),t.$message({type:"success",message:t.isAdd?"添加成功!":"修改成功!"});else{var a=t.isAdd?"添加失败!":"修改失败!";o.result.isExist&&(a="产品已存在，添加失败!"),t.$message({type:"error",message:a})}t.drawerShow=!1}))},deleteGoods:function(t){var e=this;this.$axios({method:"POST",url:"/FurnitureAdm/DeleteGoods",data:this.$qs.stringify({id:t})}).then((function(t){var o=t.data,a=o.code;200===a&&(e.fetchgoodsList(),e.$message({type:"success",message:"删除成功!"}))}))},fetchCategoryList:function(){var t=this;this.$axios({method:"post",url:"/FurnitureAdm/getcategoryList",data:this.$qs.stringify({query:"",page:1,pageSize:99})}).then((function(e){var o=e.data,a=o.code,n=o.result;200===a&&(t.categoryList=n.list.map((function(t){return t.id="".concat(t.id),t})))}))},fetchgoodsList:function(){var t=this;this.$axios({method:"POST",url:"/FurnitureAdm/getgoodsList",data:this.$qs.stringify({page:this.page.pageNum,pageSize:this.page.pageSize,query:this.search})}).then((function(e){var o=e.data,a=o.code,n=o.result;200===a&&(t.goodsList=n.goodsList,t.total=n.total)}))}}}),r=i,s=(o("d8d4"),o("2877")),l=Object(s["a"])(r,a,n,!1,null,null,null);e["default"]=l.exports},"65f0":function(t,e,o){var a=o("861d"),n=o("e8b5"),i=o("b622"),r=i("species");t.exports=function(t,e){var o;return n(t)&&(o=t.constructor,"function"!=typeof o||o!==Array&&!n(o.prototype)?a(o)&&(o=o[r],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===e?0:e)}},"841c":function(t,e,o){"use strict";var a=o("d784"),n=o("825a"),i=o("1d80"),r=o("129f"),s=o("14c3");a("search",1,(function(t,e,o){return[function(e){var o=i(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,o):new RegExp(e)[t](String(o))},function(t){var a=o(e,t,this);if(a.done)return a.value;var i=n(t),l=String(this),c=i.lastIndex;r(c,0)||(i.lastIndex=0);var d=s(i,l);return r(i.lastIndex,c)||(i.lastIndex=c),null===d?-1:d.index}]}))},9263:function(t,e,o){"use strict";var a=o("ad6d"),n=o("9f7f"),i=RegExp.prototype.exec,r=String.prototype.replace,s=i,l=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=n.UNSUPPORTED_Y||n.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],u=l||d||c;u&&(s=function(t){var e,o,n,s,u=this,f=c&&u.sticky,p=a.call(u),g=u.source,h=0,m=t;return f&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),m=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(g="(?: "+g+")",m=" "+m,h++),o=new RegExp("^(?:"+g+")",p)),d&&(o=new RegExp("^"+g+"$(?!\\s)",p)),l&&(e=u.lastIndex),n=i.call(f?o:u,m),f?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=u.lastIndex,u.lastIndex+=n[0].length):u.lastIndex=0:l&&n&&(u.lastIndex=u.global?n.index+n[0].length:e),d&&n&&n.length>1&&r.call(n[0],o,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),t.exports=s},"9f7f":function(t,e,o){"use strict";var a=o("d039");function n(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=n("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,o){"use strict";var a=o("23e7"),n=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},ad6d:function(t,e,o){"use strict";var a=o("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,o){var a=o("83ab"),n=o("d039"),i=o("5135"),r=Object.defineProperty,s={},l=function(t){throw t};t.exports=function(t,e){if(i(s,t))return s[t];e||(e={});var o=[][t],c=!!i(e,"ACCESSORS")&&e.ACCESSORS,d=i(e,0)?e[0]:l,u=i(e,1)?e[1]:void 0;return s[t]=!!o&&!n((function(){if(c&&!a)return!0;var t={length:-1};c?r(t,1,{enumerable:!0,get:l}):t[1]=1,o.call(t,d,u)}))}},b727:function(t,e,o){var a=o("0366"),n=o("44ad"),i=o("7b0b"),r=o("50c4"),s=o("65f0"),l=[].push,c=function(t){var e=1==t,o=2==t,c=3==t,d=4==t,u=6==t,f=5==t||u;return function(p,g,h,m){for(var v,x,b=i(p),I=n(b),y=a(g,h,3),w=r(I.length),D=0,_=m||s,E=e?_(p,w):o?_(p,0):void 0;w>D;D++)if((f||D in I)&&(v=I[D],x=y(v,D,b),t))if(e)E[D]=x;else if(x)switch(t){case 3:return!0;case 5:return v;case 6:return D;case 2:l.call(E,v)}else if(d)return!1;return u?-1:c||d?d:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},cdfc:function(t,e,o){},d784:function(t,e,o){"use strict";o("ac1f");var a=o("6eeb"),n=o("d039"),i=o("b622"),r=o("9263"),s=o("9112"),l=i("species"),c=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){return"$0"==="a".replace(/./,"$0")}(),u=i("replace"),f=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var o="ab".split(t);return 2!==o.length||"a"!==o[0]||"b"!==o[1]}));t.exports=function(t,e,o,u){var g=i(t),h=!n((function(){var e={};return e[g]=function(){return 7},7!=""[t](e)})),m=h&&!n((function(){var e=!1,o=/a/;return"split"===t&&(o={},o.constructor={},o.constructor[l]=function(){return o},o.flags="",o[g]=/./[g]),o.exec=function(){return e=!0,null},o[g](""),!e}));if(!h||!m||"replace"===t&&(!c||!d||f)||"split"===t&&!p){var v=/./[g],x=o(g,""[t],(function(t,e,o,a,n){return e.exec===r?h&&!n?{done:!0,value:v.call(e,o,a)}:{done:!0,value:t.call(o,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:d,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=x[0],I=x[1];a(String.prototype,t,b),a(RegExp.prototype,g,2==e?function(t,e){return I.call(t,this,e)}:function(t){return I.call(t,this)})}u&&s(RegExp.prototype[g],"sham",!0)}},d81d:function(t,e,o){"use strict";var a=o("23e7"),n=o("b727").map,i=o("1dde"),r=o("ae40"),s=i("map"),l=r("map");a({target:"Array",proto:!0,forced:!s||!l},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},d8d4:function(t,e,o){"use strict";var a=o("cdfc"),n=o.n(a);n.a},e8b5:function(t,e,o){var a=o("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-2604fa47.3518f991.js.map